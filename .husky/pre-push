echo "ğŸ” Running pre-push qualification checks..."
echo ""

# 1. ESLint
echo "ğŸ“‹ Running ESLint..."
pnpm lint || {
    echo "âŒ ESLint failed. Run 'pnpm lint:fix' to auto-fix."
    exit 1
}
echo "âœ… ESLint passed!"
echo ""

# 2. Prettier
echo "ï¿½ Checking code formatting..."
pnpm format:check || {
    echo "âŒ Prettier check failed. Run 'pnpm format' to auto-fix."
    exit 1
}
echo "âœ… Prettier passed!"
echo ""

# 3. TypeScript
echo "ï¿½ Type checking..."
pnpm typecheck || {
    echo "âŒ Type check failed. Please fix TypeScript errors."
    exit 1
}
echo "âœ… Type check passed!"
echo ""

# 4. Tests with coverage
echo "ğŸ§ª Running tests with coverage..."
pnpm vitest run --coverage || {
    echo "âŒ Tests failed. Please fix failing tests or coverage."
    exit 1
}
echo "âœ… All tests passed with coverage!"
echo ""

# 5. Build
echo "ğŸ—ï¸  Verifying build..."
pnpm build || {
    echo "âŒ Build failed. Please fix build errors."
    exit 1
}
echo "âœ… Build passed!"
echo ""

echo "ğŸš€ All pre-push checks passed! Ready to push!"
